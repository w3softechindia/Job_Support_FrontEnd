<!-- eslint-disable @angular-eslint/template/click-events-have-key-events -->
<!-- eslint-disable @angular-eslint/template/interactive-supports-focus -->
<!-- Header -->
<header class="header header-bg">
	<div class="container">
		<nav class="navbar navbar-expand-lg header-nav">
			<div class="navbar-header">
				<a id="mobile_btn" (click)="toggleSidebar()" href="javascript:void(0);">
					<span class="bar-icon">
						<span></span>
						<span></span>
						<span></span>
					</span>
				</a>
				<a [routerLink]="routes.home" class="navbar-brand logo">
					<img src="assets/img/logo.png" class="img-fluid" alt="Logo">
				</a>
			</div>
			<div class="main-menu-wrapper">
				<div class="menu-header">
					<a [routerLink]="routes.home" class="menu-logo">
						<img src="assets/img/logo.png" class="img-fluid" alt="Logo">
					</a>
					<a id="menu_close" (click)="hideSidebar()" class="menu-close" href="javascript:void(0);">
						<i class="fas fa-times"></i>
					</a>
				</div>
				<ul class="main-nav">
					<ng-container *ngFor="let mainMenus of navbar">
						<ng-container *ngIf="mainMenus.separateRoute === true">
							<li routerLinkActive="active" [class.active]="base === mainMenus.base">
								<a [routerLink]="mainMenus.route">{{ mainMenus.tittle }}</a>
							</li>
						</ng-container>
						<ng-container *ngIf="mainMenus.separateRoute === false">
							<li class="has-submenu" [class.active]="base === mainMenus.base" routerLinkActive="active">
								<a href="javascript:void(0);" (click)="mainMenus.showAsTab = !mainMenus.showAsTab">{{
									mainMenus.tittle }} <i class="fas fa-chevron-down"></i></a>
								<ul class="submenu" [ngClass]="{
											'd-block': mainMenus.showAsTab === true
										  }">
									<ng-container *ngFor="let menu of mainMenus.menu">
										<ng-container *ngIf="menu.hasSubRoute === false">
											<li routerLinkActive="active" [class.active]="
												  base === menu.base && page === menu.page
												">
												<a [routerLink]="menu.route">{{ menu.menuValue }}</a>
											</li>
										</ng-container>
										<ng-container *ngIf="menu.hasSubRoute === true">
											<li class="has-submenu" routerLinkActive="active"
												[class.active]="page === menu.page">
												<a (click)="menu.showSubRoute = !menu.showSubRoute"
													[routerLink]="menu.route">{{ menu.menuValue }}</a>
												<ul class="submenu" [ngClass]="{
													'd-block': menu.showSubRoute === true
												  }">
													<ng-container *ngFor="let subMenu of menu.subMenus">
														<li routerLinkActive="active" [class.active]="
														base === subMenu.base &&
														page === subMenu.page 
														
													  ">
															<a [routerLink]="subMenu.route">{{
																subMenu.menuValue
																}}</a>
														</li>
													</ng-container>
												</ul>
											</li>
										</ng-container>
									</ng-container>
								</ul>
							</li>
						</ng-container>
					</ng-container>
				</ul>
			</div>


			<!-- notification code  -->

			<ul class="nav header-navbar-rht" *ngIf="anotherMenu === false">
				<!-- <li><a [routerLink] = "routes.freelancer_message"><img src="assets/img/icon/message-chat-icon.svg" alt="Img"></a></li> -->




				  <li class="dropdown">
					<a data-bs-toggle="dropdown" href="javascript:void(0);">
						<img src="assets/img/icon/message-chat-icon.svg" alt="Img">
						<!-- <span class="msg-count-badge">{{ notificationCount }}</span>  -->
						<span class="msg-count-badge" *ngIf="notificationCount !== 0">{{ notificationCount }}</span>

					</a>
					<div class="dropdown-menu notifications">
						<div class="topnav-dropdown-header">
							<div class="notification-title">Notifications<span class="msg-count-badge">{{ notificationCount }}</span></div>
						</div>
						<div class="noti-content">
							<!-- Notification items will be displayed here -->
							<!-- Example notification item -->
							<div class="notification-item">
								<!-- <span class="notification-symbol">CHT</span> Symbol for the notification -->
								<!-- Other notification details -->
								<span class="notification-text">You got  {{ notificationCount }} New Messages from admin </span>
							</div>
						</div>
						<!-- <div class="topnav-dropdown-footer text-center">
							<a [routerLink]="routes.notification">View All Notification</a>
						</div> -->
					</div>
				</li>
<!-- --------------------------------------------------------- -->
	
				<li><a [routerLink]="routes.employee_post_project" class="login-btn">Post a Project <i
							class="feather icon-plus ms-1"></i></a>
				</li>
				<li class="nav-item dropdown account-item">
					<a href="javascript:void(0);" class="dropdown-toggle nav-link" data-bs-toggle="dropdown">
						<div *ngIf="isLoading">
							<p>Loading...</p>
						  </div>
						  <div *ngIf="!isLoading">
							<div *ngIf="photoUrl">
							  <img [src]="photoUrl" alt="Profile Image" class="avatar-lg rounded-circle">
							</div>
							<div *ngIf="!photoUrl">
							  <p>No photo found.</p>
							</div>
						  </div>						  
						<span>{{this.username}}</span>
					</a>
					<div class="dropdown-menu emp">
						<div class="drop-head">
							<a href="javascript:void(0);" class="dropdown-toggle nav-link" data-bs-toggle="dropdown">
								<span class="user-img">
									<img src="assets/img/user/table-avatar-03.jpg" alt="Img">
								</span>
								<div>
									<span>Walter Griffin</span>
									<p>info@brucebush.com</p>
								</div>
							</a>
						</div>
						<a class="dropdown-item" [routerLink]="routes.employee_company_profile"><img
								src="assets/img/icon/user-dropdown-icon--01.svg" alt="Img"> My Profile</a>
						<a class="dropdown-item" [routerLink]="routes.employee_all_projects"><img
								src="assets/img/icon/user-dropdown-icon--02.svg" alt="Img"> My Projects</a>
						<a class="dropdown-item" [routerLink]="routes.freelancer_favourite"><img
								src="assets/img/icon/user-dropdown-icon--03.svg" alt="Img">My Subscription</a>
						<a class="dropdown-item" [routerLink]="routes.employee_deposit_funds"><img
								src="assets/img/icon/user-dropdown-icon--04.svg" alt="Img">My Statement</a>
						<a class="dropdown-item" [routerLink]="routes.freelancer_message"><img
								src="assets/img/icon/user-dropdown-icon--05.svg" alt="Img"> Message</a>
						<a class="dropdown-item" [routerLink]="routes.freelancer_profiles_settings"><img
								src="assets/img/icon/user-dropdown-icon--06.svg" alt="Img"> Profile Settings</a>
						<a class="dropdown-item"><img
								src="assets/img/icon/user-dropdown-icon--07.svg" alt="Img" (click)="logout()"> Logout</a>
					</div>
				</li>

			</ul>
			<ul class="nav header-navbar-rht reg-head" *ngIf="anotherMenu === true">
				<li><a [routerLink]="routes.register" class="reg-btn"><img src="assets/img/icon/users.svg" class="me-1"
							alt="img">Register</a></li>
				<li><a [routerLink]="routes.login" class="log-btn"><img src="assets/img/icon/lock.svg" class="me-1"
							alt="img"> Login</a></li>
				<li><a [routerLink]="routes.employee_post_project" class="login-btn"><i
							class="feather icon-plus me-1"></i>Post a Project </a></li>
			</ul>
		</nav>
	</div>

</header>
<!-- /Header -->